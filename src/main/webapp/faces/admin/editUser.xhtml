<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:f="http://java.sun.com/jsf/core">
    <p:outputPanel>

        <h:form id="updatingUserForm">

            <div class="inputElement">
                <h:outputLabel value="Логин"/>
                <h:inputText id="regLogin" styleClass="inputField"
                             value="#{adminBean.manipulatedUser.login}"/>
            </div>

            <div class="inputElement">
                <h:outputLabel value="Пароль"/>
                <h:inputText id="regPassword" styleClass="inputField"
                             value="#{adminBean.stringCreatedUserPassword}"/>
            </div>

            <div class="inputElement">
                <h:outputLabel value="Имя"/>
                <h:inputText id="regName" styleClass="inputField"
                             value="#{adminBean.manipulatedUser.name}"/>
            </div>

            <div class="inputElement">
                <h:outputLabel value="Фамилия"/>
                <h:inputText id="regSurname" styleClass="inputField"
                             value="#{adminBean.manipulatedUser.surname}"/>
            </div>

            <div class="inputElement">
                <h:outputLabel id="regTypeUser" value="Тип пользователя"/>
                <h:selectOneMenu value="#{adminBean.manipulatedUser.type}" styleClass="inputField">
                    <f:selectItems value="#{databaseBean.userTypes}"/>
                </h:selectOneMenu>
            </div>

            <div class="inputElement">
                <h:outputLabel id="regUserOutlet" value="Связанный торговый объект"/>
                <h:selectOneMenu value="#{adminBean.manipulatedUser.outlet}" styleClass="inputField">
                    <f:selectItems value="#{adminBean.allOutlets}"/>
                </h:selectOneMenu>
            </div>

            <div class="inputElement">
                <h:outputLabel value="Дата рождения (дд-ММ-гггг)"/>
                <h:inputText id="regBirthday" styleClass="inputField"
                             value="#{adminBean.manipulatedUser.birthday}">
                    <f:convertDateTime pattern="dd-MM-yyyy"/>
                </h:inputText>
            </div>

            <h:messages styleClass="errorMessage"/>

            <div class="buttonPanel">
                <h:commandButton styleClass="buttonPanelElement"
                                 id="userRegistration"
                                 actionListener="#{adminBean.createUser}"
                                 value="Зарегистрировать пользователя"
                                 rendered="#{adminBean.creatingNewUser}"
                                 process="@this showCreateUserPanelButton outlets"/>
                <h:commandButton styleClass="buttonPanelElement"
                                 id="userUpdating"
                                 actionListener="#{adminBean.updateUser}"
                                 value="Обновить пользователя"
                                 rendered="#{adminBean.updatingUser}"
                                 process="@this outlets"/>
                <h:commandButton styleClass="buttonPanelElement"
                                 id="cancelUpdating"
                                 actionListener="#{adminBean.closeEditUserPanel}"
                                 value="Отмена"
                                 process="@this"/>
            </div>

        </h:form>
    </p:outputPanel>
</ui:composition>